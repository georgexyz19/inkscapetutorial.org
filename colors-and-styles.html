<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/theme/css/bs4min.css">

    <link rel="apple-touch-icon" sizes="180x180" href="/theme/images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicon_io/favicon-16x16.png">

<link rel="stylesheet" href="https://www.inkscapetutorial.org/theme/css/friendly.css">
<link rel="stylesheet" href="https://www.inkscapetutorial.org/theme/css/custom.css">
<meta name="author" content="George Zhang" />
<meta name="description" content="SVG Styles The SVG specs has a chapter on styling. The SVG and Cascading Style Sheets (CSS) share many styling properties. There are two ways to style an element in â€¦" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2250215946274932"
     crossorigin="anonymous"></script>
    <title>Colors and Styles - Inkscape Tutorial</title>
  </head>
  <body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-md navbar-light" style="background-color: #e3f2fd;">
      <div class="container">
        <a class="navbar-brand" href="/">
          <img src="/images/logo.svg" width="50" height="50" alt="logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link pr-3 "
                 href="/index.html">Inkscape Tutorial</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pr-3 " 
                href="/pages/extension.html">Extension Development</a>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/pages/articles.html">Articles</a>
              </li>
            <li class="nav-item">
              <a class="nav-link " 
                 href="/search.html">Search</a>
            </li>
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link " 
                 href="/pages/about.html">About</a>
            </li>
          </ul>



        </div>
      </div>
    </nav>
   


<div class="container mt-3">

  <div class="row">
    <div class="col-md-12 col-lg-9">

      <h1>Chapter 12.&nbsp;&nbsp;Colors and Styles</h1>

      <div class="text-muted mb-2">
        <span>Posted on </span>
        <time datetime="2021-08-23 15:32:00-04:00">
          Monday, 08/23/2021 15:32
        </time>

      </div>

      <h2><span class="caps">SVG</span> Styles</h2>
<p>The <span class="caps">SVG</span> specs has a chapter on 
<a href="https://www.w3.org/TR/SVG11/styling.html">styling</a>. The <span class="caps">SVG</span> and Cascading Style Sheets (<span class="caps">CSS</span>) share many styling properties. There are two ways to style an 
element in <span class="caps">SVG</span>. We can style an element using individual attributes or combining 
them together as the value of <code>style</code> attribute. For example, we can create 
a blue rectangle with red border like this. </p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span>
    <span class="na">fill=</span><span class="s">&quot;blue&quot;</span>
    <span class="na">stroke=</span><span class="s">&quot;red&quot;</span>
    <span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span>
    <span class="na">x=</span><span class="s">&quot;10&quot;</span> <span class="na">y=</span><span class="s">&quot;10&quot;</span> <span class="na">width=</span><span class="s">&quot;30&quot;</span> <span class="na">height=</span><span class="s">&quot;20&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>

<p>Or we can specify a single <code>style</code> attribute like this. </p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;rect</span>
    <span class="na">style=</span><span class="s">&quot;fill:blue; stroke:red; stroke-width:3&quot;</span>
    <span class="na">x=</span><span class="s">&quot;50&quot;</span> <span class="na">y=</span><span class="s">&quot;50&quot;</span> <span class="na">width=</span><span class="s">&quot;30&quot;</span> <span class="na">height=</span><span class="s">&quot;20&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>

<p><span class="caps">SVG</span> elements generated by Inkscape itself use the <code>style</code> attribute. </p>
<h2>Style Module</h2>
<p>The <code>style.py</code> module in <code>inkex</code> directory defines several classes. The most notable 
one is the <code>Style</code> class which derives from <code>OrderedDict</code> class. The <code>__init__</code> method 
of the class is written in a way that it accepts a dictionary, a string, key value
pairs, or another <code>Style</code> object as the initial value. The Python interpreter session 
below shows how to initialize a <code>Style</code> object in different ways.  </p>
<div class="highlight"><pre><span></span><code>george@Inspiron-5515:~$ /usr/bin/python3

&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.path.append(&#39;/usr/share/inkscape/extensions&#39;)

&gt;&gt;&gt; from inkex import Style
&gt;&gt;&gt; s = Style({&#39;fill&#39;:&#39;red&#39;, &#39;stroke&#39;:&#39;green&#39;})
&gt;&gt;&gt; s
Style([(&#39;fill&#39;, &#39;red&#39;), (&#39;stroke&#39;, &#39;green&#39;)])
&gt;&gt;&gt; str(s)
&#39;fill:red;stroke:green&#39;

&gt;&gt;&gt; st1 = Style(&#39;fill:red; stroke:green&#39;)
&gt;&gt;&gt; str(st1)
&#39;fill:red;stroke:green&#39;

&gt;&gt;&gt; st2 = Style(fill=&#39;red&#39;, stroke=&#39;green&#39;)
&gt;&gt;&gt; str(st2)
&#39;fill:red;stroke:green&#39;

&gt;&gt;&gt; st3 = Style(st2)
&gt;&gt;&gt; str(st3)
&#39;fill:red;stroke:green&#39;
</code></pre></div>

<p>The static method <code>parse_str</code> parses a string and yields key value pair as a tuple 
from which we can create a new <code>Style</code> object. The <code>to_str</code> method converts a <code>Style</code> object 
to a string.  </p>
<p>The <code>update</code> method is similar to Python dictionary <code>update</code> method. The <code>Style</code> class 
also defines the <code>__add__</code> and <code>__sub__</code> methods so we can add or subtract 
<code>Style</code> class objects. The operators <code>+</code> or <code>-</code> create new copies of 
<code>Style</code> object.   </p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; st4 = Style({&#39;stroke-width&#39;:&#39;3&#39;})
&gt;&gt;&gt; st5 = st3 + st4
&gt;&gt;&gt; print(st5)
fill:red;stroke:green;stroke-width:3
&gt;&gt;&gt; st6 = st5 - {&#39;fill&#39;:&#39;red&#39;}
&gt;&gt;&gt; print(st6)
stroke:green;stroke-width:3
</code></pre></div>

<p>The <code>Style</code> class also defines a <code>get_color</code> and a <code>set_color</code> method.  We can use them 
like the examples shown below. </p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; st6.get_color(&#39;stroke&#39;)
[0, 128, 0, 1.0]

&gt;&gt;&gt; st6.set_color(&#39;red&#39;, &#39;fill&#39;)
&gt;&gt;&gt; print(st6)
stroke:green;stroke-width:3;fill:#ff0000
</code></pre></div>

<p>When we are working on element style in an Inkscape extension, we change the element 
style in Inkscape itself and watch the style value in <span class="caps">XML</span> editor. Once we find a value 
to use, we can set the same style attribute and value in extension code. 
As shown in previous chapters, we set <code>style</code> property of an element object with a 
<code>Style</code> object. </p>
<div class="highlight"><pre><span></span><code><span class="n">element</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">st2</span> <span class="c1"># st2 is a Style object</span>
</code></pre></div>

<h2>Color Module</h2>
<p>The <code>colors.py</code> module in <code>inkex</code> directory defines an <code>SVG_COLOR</code> dictionary with 
148 color names and values. The <code>is_color</code> function determines if a value is 
a color that we can use. </p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inkex.colors</span> <span class="kn">import</span> <span class="n">SVG_COLOR</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">SVG_COLOR</span><span class="p">)</span> <span class="c1"># include a none</span>
<span class="mi">149</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">SVG_COLOR</span><span class="p">[</span><span class="s1">&#39;none&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">inkex.colors</span> <span class="kn">import</span> <span class="n">is_color</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">is_color</span><span class="p">(</span><span class="s1">&#39;#334&#39;</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">is_color</span><span class="p">(</span><span class="s1">&#39;#334srd&#39;</span><span class="p">)</span>  <span class="c1"># wrong value above F</span>
<span class="kc">False</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">is_color</span><span class="p">(</span><span class="s1">&#39;#33AABB&#39;</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">is_color</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">is_color</span><span class="p">(</span><span class="mi">345</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">is_color</span><span class="p">(</span><span class="s1">&#39;#334ABD00&#39;</span><span class="p">)</span> <span class="c1"># this is in rgba format</span>
<span class="kc">True</span>
</code></pre></div>

<p>We usually use the color name as a string value such as <code>red</code> or an <span class="caps">RGB</span> string value 
such as <code>#FF00CC</code> when we specify a color in extension code. </p>
<h2>ColorExtension Class</h2>
<p>The Inkscape has a whole class of extensions dealing with colors. They are listed 
under the <code>Extensions &gt; Color</code> menu.  The <code>Randomize</code> and <code>Negative</code> are 
interesting, and <code>Grayscale</code> and <code>Replace color</code> are sometimes useful. 
Those extensions have 
classes derived from <code>ColorExtension</code> class which is defined in the 
<code>extensions.py</code> module. </p>
<p>Let&#8217;s take a look at the <code>Grayscale</code> extension. The content of the <code>color_grayscale.py</code> 
module is listed below. It only overrides a <code>modify_color</code> method.  The <code>color</code> 
argument is the color of the element to be modified. The <code>name</code> argument is one of the 
color attribute names <code>stroke</code>, <code>fill</code>, <code>stop-color</code>, <code>flood-color</code> or <code>lighting-color</code> 
defined in the <code>Style</code> class.  The return value is the new modified color. </p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python</span>
<span class="sd">&quot;&quot;&quot;Convert to grey&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">inkex</span>

<span class="k">class</span> <span class="nc">Grayscale</span><span class="p">(</span><span class="n">inkex</span><span class="o">.</span><span class="n">ColorExtension</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make all colours grayscale&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">modify_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="c1"># ITU-R Recommendation BT.709 (NTSC and PAL)</span>
        <span class="c1"># l = 0.2125 * r + 0.7154 * g + 0.0721 * b</span>
        <span class="n">lum</span> <span class="o">=</span> <span class="mf">0.299</span> <span class="o">*</span> <span class="n">color</span><span class="o">.</span><span class="n">red</span> <span class="o">+</span> <span class="mf">0.587</span> <span class="o">*</span> <span class="n">color</span><span class="o">.</span><span class="n">green</span> <span class="o">+</span> <span class="mf">0.114</span> <span class="o">*</span> <span class="n">color</span><span class="o">.</span><span class="n">blue</span>
        <span class="k">return</span> <span class="n">inkex</span><span class="o">.</span><span class="n">Color</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">lum</span><span class="p">)),</span> 
                    <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">lum</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">lum</span><span class="p">))))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">Grayscale</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>

    </div>


    <div class="d-md-none d-lg-block col-lg-3 bg-light">


<h2 class="mt-5">Chapters</h2>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/extension-get-started.html">1. Get Started</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/triangle-extension-code.html">2. Triangle Extension</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/how-extensions-work.html">3. How Extensions Work</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/extension-workflow.html">4. Extension Workflow</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/hello-extension.html">5. Hello Extension</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/svg-file-format.html">6. SVG File Format</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/shape-classes.html">7. Shape Elements</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/lxml-basics.html">8. LXML Basics</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/inkex-element-classes.html">9. Element Classes</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/units-and-coordinate-systems.html">10. Units</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/transforms.html">11. Transforms</a></p>


    <p class="font-italic pl-2">12. Colors and Styles</p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/drawings-for-practice.html">13. Drawings For Practice</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/paths.html">14. Paths</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/selection.html">15. Selection</a></p>


    <p class="pl-2"><a href="https://www.inkscapetutorial.org/arrowhead-extension.html">16. Arrowhead Extension</a></p>

   
    </div>

  </div>

</div>

   
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>